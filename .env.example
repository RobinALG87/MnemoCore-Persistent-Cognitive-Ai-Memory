# MnemoCore Environment Configuration
# ====================================
# Copy this file to .env and fill in the values.
# All variables can be overridden at runtime.

# ===========================================
# REQUIRED: API Security
# ===========================================
# API key for authentication (REQUIRED - must be set)
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
HAIM_API_KEY=your-secure-api-key-here

# ===========================================
# Redis Configuration
# ===========================================
# Redis connection URL
# Format: redis://[username:password@]host:port/db
REDIS_URL=redis://redis:6379/0

# Redis stream key for pub/sub events
REDIS_STREAM_KEY=haim:subconscious

# Maximum Redis connections
REDIS_MAX_CONNECTIONS=10

# Redis socket timeout (seconds)
REDIS_SOCKET_TIMEOUT=5

# ===========================================
# Qdrant Configuration
# ===========================================
# Qdrant connection URL
QDRANT_URL=http://qdrant:6333

# Collection names
QDRANT_COLLECTION_HOT=haim_hot
QDRANT_COLLECTION_WARM=haim_warm

# ===========================================
# Server Configuration
# ===========================================
# Host to bind the server
HOST=0.0.0.0

# Port to listen on
PORT=8100

# Number of uvicorn workers (1 recommended for stateful apps)
WORKERS=1

# ===========================================
# Logging Configuration
# ===========================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable structured JSON logging
STRUCTURED_LOGGING=true

# ===========================================
# Observability (Prometheus)
# ===========================================
# Port for Prometheus metrics
METRICS_PORT=9090

# ===========================================
# Memory Tier Configuration
# ===========================================
# Hot tier max memories
HOT_MAX_MEMORIES=2000

# Warm tier max memories
WARM_MAX_MEMORIES=100000

# LTP decay rate
LTP_DECAY_LAMBDA=0.01

# ===========================================
# GPU Configuration (Optional)
# ===========================================
# Enable GPU acceleration
GPU_ENABLED=false

# CUDA device (e.g., cuda:0)
GPU_DEVICE=cuda:0

# ===========================================
# MCP Bridge Configuration (Optional)
# ===========================================
# Enable MCP bridge
MCP_ENABLED=false

# MCP transport: stdio, tcp
MCP_TRANSPORT=stdio

# MCP host and port (for TCP transport)
MCP_HOST=127.0.0.1
MCP_PORT=8110

# ===========================================
# CORS Configuration (Optional)
# ===========================================
# Allowed CORS origins (comma-separated)
# CORS_ORIGINS=http://localhost:3000,https://example.com

# ===========================================
# Rate Limiting (Optional)
# ===========================================
# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Requests per window
RATE_LIMIT_REQUESTS=100

# Window size in seconds
RATE_LIMIT_WINDOW=60
